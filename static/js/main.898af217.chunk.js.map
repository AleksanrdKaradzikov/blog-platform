{"version":3,"sources":["components/post-details/operation.png","components/header/index.js","components/header/header.js","components/error-custom/error-custom.js","components/error-custom/index.js","components/not-authorized/not-authorized.js","components/not-authorized/index.js","actions/index.js","components/add-article-page/add-article-page.js","components/add-article-page/index.js","components/regestration-page/regestration-page.js","components/regestration-page/index.js","components/authorization-page/authorization-page.js","components/authorization-page/index.js","components/spinner/index.js","components/spinner/spinner.js","components/post-list/post-list.js","components/post-list/index.js","components/home-page/home-page.js","components/home-page/index.js","components/post-details/post-details.js","components/post-details/index.js","components/editing-page/editing-page.js","components/editing-page/index.js","components/app/app.js","components/app/index.js","reducers/index.js","index.js"],"names":["module","exports","Header","className","to","activeClassName","ErrorCustom","children","defaultProps","NotAuthorized","type","userReg","createAction","userRegErr","userLogin","userLoginErr","userExit","articleAdd","favoriteArticlesAdd","articleAddErr","getAllArticles","likeOrDisLikeArticle","pageChange","articleEdit","articleEditErr","handleGetAllArticles","pageSize","currentPage","username","dispatch","a","async","offset","pageIndex","url","fetch","response","ok","json","article","articles","favoritedArticlesKeys","map","post","slug","console","log","handleLike","token","toggleLike","method","headers","validationSchema","Yup","shape","title","min","max","required","description","body","tagList","of","actionCreators","addArticle","data","resetForm","AddArticlePage","props","state","this","newData","JSON","stringify","isAuthorized","isSuccessful","successfulMessage","faildeMessage","formik","initialValues","onSubmit","values","setSubmitting","handleAddArticle","name","placeholder","component","as","push","form","render","length","tag","index","Fragment","key","onClick","renderPage","React","Component","connect","user","articlesUiState","userData","password","email","Successful","registration","reg","then","err","errors","error","RegestrationPage","handleRegestrationSbm","login","MyError","AuthorizationPage","handleLoginSbm","exact","path","Spinner","PostList","handleFavoriteArticle","event","target","classList","contains","alert","handlePageChange","pageNumber","handlePostSelected","totalPostCount","allSlugs","Object","bySlug","createdDate","author","createdAt","favoritesCount","favorited","image","src","alt","formatDistance","Date","locale","ru","includeSeconds","renderTagList","pagination","pageRangeDisplayed","activePage","itemsCountPerPage","totalItemsCount","onChange","itemClass","linkClass","exit","actions","HomePage","postId","history","topbar","renderTopBar","withRouter","PostDetails","handleSettingCLick","preventDefault","loading","updatePost","prevProps","setState","setting","href","operetion","likeClass","handleArticleEdit","EditingPage","handleEditArticle","isEditSuccessful","App","match","params","initialState","handleActions","payload","id","reduce","acc","newBySlug","keys","filter","currentKey","newAllSlugs","newSlag","fromEntries","entries","value","articlesCount","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.898af217.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUoSURBVEiJrZZtbFNVGMd/9670bnPMFXbb2VVha4OrY2UMjEwciFFY8AMSEj/wEp1fSEhks75EBJEhKCEkjBmIJoSNQKYfXCaEED+o2yToEutYuuiimYBxw7GWAl2btnd3ffzAtrC4uRh9kpOcnHPP73/uc+95/kcREWYKRVHswOP5dvvTmtValR5LLwAwRo1IyjB6Y9FoF9AsIndmhIjI3xpg0XX9kMfjCdX6/Xc/+7xVfrl6TeKGKXHDlFvRmAR6gnKkoSFSVOQO22y2RsAxvrYKmD/JmgbudTgK+vbW749FE6lJ6ExtJGnIyabm6JYt2xrH138MlE8rYLfbt5d4vaFAT3ASEEuNStwwpSvQLavKy2RVeZl0BbqnzE0+a5ifZmdnn5pWAPCWeL2hO/GExA1TIiNx2fW6X5zz8uSNna/KU0uXSHulU9ornfLU0iXyxs5XxTkvT3a97pfISFzKfD4p8/mkqLg4ArimCAAWh6Og7/6dt52/IC+67TK0doEcr3DKmWUFcmvdQrm1bqGcWVYgxyucMrR2gbzotkvb+QtT3uTtd/bsm/gmFgBd1w9s37HjYe9jj5FKpehsb6en+0ecmRYsikJ8DM6OWNg9ZABQqFnYODeNRVFwZlro6f4RgNVr1qBpGosWLfLbbLZ5wE4FsHs8np+6e3/Kz8jI4MCut/jti7M4My1sehBeG0hjrt6Aq6aOLEchAImbgww0NWDpPMdRl0rrXbiRNHG/sJU9Hx5mbGwMn/fRyPXr190K8Hyt39/ywaHDuSLCood0upc/iEVRqO5LkvN+E/ryldP+4qHAZWLv1vClNxNThIrAXX79M4SiKHzUcPTO22+9+b6ab7c/Xfnkytzxg8XmrdtoDY9yasjAXL1hRjiAvnwl5uoNnBoyaA2PsnnrNhRFAeCZZ5/Ly8nJqVQ1q7VqaUUFAL3BIF2XviVXSdM2ouKqqZsRPhGumjraRlRylTRdl76lNxgEoNjtRtO0xWp6LL3A5XoYgNqXNnMwK8T6/EwGU+nJnP9TZDkKGUylWZ+fycGsELUvbb43npXFHKs1T52V8B9CQUE1Ro1IMpkE4NjpFnYndC6GkxRqKombg7NCEjcHKdRULoaT7E7oHDvdAsDAwB+oGervasoweq9dvQpAmc/HiqpVREVl49w0A00NswoMNDWwcW6aqKisqFpFmc8HwJXublKGcUmNRaNdHR3f3IZ7p7rl7Bk25c/hlQIrls5zhAKXZ4SHApexdJ7jlQIrm/Ln0HL2zERl4PvvLkfDw8MdCpBXVOTuD/b1zVdV9X87aBVlpeH+/v5SRASbzdZ4sqk5OlHk2s5fkPf21UtdqVPC6xbK4SVOqSx2ySOFTnmk8F7/8JJ7c3WlTnlvX720nb8gkZG4xA1T9tbvj+m6fkhEUAFu3759sP2rr5sBNE1jbXU15RXLuJE0MUV4IAN22EyuLLZyZbGVHTaTBzLAFOFG0qS8Yhlrq6vRNI2+n3/mkxMn/giFQnuYyPt43lxFxcWRibL7b8t13DDlTjwhJV5vCPBO5wfl2dnZp2KG+ekUE7nPcJ4oLZEnSkumNZxAT1BKvN6Q3W7fPsUh7xcAPhYRtmzZ1niyqTk6kjRmtcxoIiV76/fHHI6Cvvt3Pp3AfKBqvO+w2WyNRUXu8JGGhkigJyi3orFJ6C9Xr8lnn7dKrd9/1+PxhHRdPwRYprtAKLNcW/KAl3Nyc1doVmuZdY51HoCaof6eMoxL4eHhDuAHERmeifEXNb6vCzHLzawAAAAASUVORK5CYII=\"","import Header from './header';\r\n\r\nexport default Header;\r\n","import React from 'react';\nimport './header.scss';\nimport { NavLink, Link } from 'react-router-dom';\n\nconst Header = () => {\n  return (\n    <header className=\"header\">\n      <div className=\"row\">\n        <div className=\"col-sm-2 col-lg-2 col-md-2\">\n          <div className=\"header__brif\">\n            <Link to=\"/\" className=\"header__brif-link\">\n              neat blog\n            </Link>\n          </div>\n        </div>\n        <div className=\"col-sm-6 col-lg-6 col-md-6\">\n          <ul className=\"header__nav-list\">\n            <li className=\"header__nav-list-item\">\n              <NavLink to=\"/add\" className=\"header__link\" activeClassName=\"header__link--active\">\n                Создать статью\n              </NavLink>\n            </li>\n          </ul>\n        </div>\n        <div className=\"col-sm-4 col-lg-4 col-md-4\">\n          <ul className=\"header__nav-list\">\n            <li className=\"header__nav-list-item\">\n              <NavLink to=\"/signup\" className=\"header__link\" activeClassName=\"header__link--active\">\n                Регестрация\n              </NavLink>\n            </li>\n            <li className=\"header__nav-list-item\">\n              <NavLink to=\"/login\" className=\"header__link\" activeClassName=\"header__link--active\">\n                Авторизация\n              </NavLink>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\nimport './error-custom.scss';\n\nconst ErrorCustom = ({ children }) => {\n  return <div className=\"error-message\">{children}</div>;\n};\n\nexport default ErrorCustom;\n\nErrorCustom.defaultProps = {\n  children: null,\n};\n\nErrorCustom.propTypes = {\n  children: PropTypes.string,\n};\n","import ErrorCustom from './error-custom';\r\n\r\nexport default ErrorCustom;\r\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\nimport './not-authorized.scss';\n\nconst NotAuthorized = ({ type }) => {\n  return (\n    <div className=\"authentication\">\n      <h2 className=\"heading-authentication\">Вы не авторизованны</h2>\n      <p className=\"page-text\">\n        {type === 'create'\n          ? ' Авторизируйтесь чтобы создать новую статью'\n          : ' Авторизируйтесь чтобы редактировать статью'}\n      </p>\n      <Link to=\"/login\" className=\"my-btn__standart\">\n        Авторизоваться\n      </Link>\n      <p className=\"page-text\">Или зарегестируйтесь если у вас еще нет учетной записи</p>\n      <Link to=\"/signup\" className=\"my-btn__standart\">\n        Зарегестрироваться\n      </Link>\n    </div>\n  );\n};\n\nexport default NotAuthorized;\n\nNotAuthorized.defaultProps = {\n  type: 'create',\n};\n\nNotAuthorized.propTypes = {\n  type: PropTypes.string,\n};\n","import NotAuthorized from './not-authorized';\r\n\r\nexport default NotAuthorized;\r\n","import { createAction } from 'redux-actions';\r\n\r\n  export const userReg = createAction('USER_REG');\r\n  export const userRegErr = createAction('USER_REG_ERROR');\r\n  export const userLogin = createAction('USER_LOGIN');\r\n  export const userLoginErr = createAction('USER_LOGIN_ERROR');\r\n  export const userExit = createAction('USER_LOGIN_EXIT');\r\n  export const articleAdd = createAction('ARCTICLE_ADD');\r\n  export const favoriteArticlesAdd = createAction('FAVORITE_ARTICLE_ADD');\r\n  export const articleAddErr = createAction('ARTICLE_ADD_ERROR');\r\n  export const getAllArticles = createAction('GET_ALL_ARTICLES');\r\n  // export const favoriteArticle = createAction('FAVORITE_ARTICLE'); \r\n  // export const unfavoriteArticle = createAction('UNFAVORITE_ARTICLE'); \r\n  export const likeOrDisLikeArticle = createAction('FAVORITE_UNFAVORITE_ARTICLE');\r\n  export const pageChange = createAction(\"PAGE_CHANGE\");\r\n  export const articleEdit = createAction('ARTICLE_EDIT');\r\n  export const articleEditErr = createAction('ARTCILE_EDIT_ERR');\r\n\r\n  export const registration = (data, resetForm) => async dispatch => {\r\n    const response = await fetch(`https://conduit.productionready.io/api/users/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: data,\r\n    });\r\n\r\n    if (response.ok) {\r\n      resetForm();\r\n      return dispatch(userReg({ reg: true }));\r\n  }\r\n\r\n  const error = await response.json().then(err => {\r\n    return err.errors;\r\n  });\r\n\r\n  return dispatch(userRegErr({ error }));\r\n};\r\n\r\nexport const login = (data, resetForm) => async dispatch => {\r\n  const response = await fetch(`https://conduit.productionready.io/api/users/login`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json;charset=utf-8',\r\n    },\r\n    body: data,\r\n  });\r\n\r\n  if (response.ok) {\r\n    const { user }  = await response.json().then(userData => {\r\n      return userData;\r\n    });\r\n    resetForm();\r\n    dispatch(userLogin({ userData: { ...user } }));\r\n    return;\r\n  }\r\n\r\n  return dispatch(userLoginErr());\r\n};\r\n\r\nexport const exit = () => {\r\n  return userExit();\r\n};\r\n\r\n\r\nexport const handleArticleAdd = (data, token, resetForm) => async (dispatch) => {\r\n  const response = await fetch(`https://conduit.productionready.io/api/articles`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json;charset=utf-8',\r\n      'Authorization': `Token ${token}`,\r\n    },\r\n    body: data,\r\n  });\r\n\r\n  if (response.ok) {\r\n    const { article } = await response.json();\r\n    dispatch(articleAdd({ article }));\r\n    resetForm();\r\n  } else {\r\n    resetForm();\r\n    dispatch(articleAddErr());\r\n  }\r\n}\r\n\r\nexport const handleArticleEdit = (data, token, resetForm, slug) => async (dispatch) => {\r\n    console.log(data);\r\n    const response = await fetch(`https://conduit.productionready.io/api/articles/${slug}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json;charset=utf-8',\r\n        'Authorization': `Token ${token}`,\r\n      },\r\n      body: data,\r\n    });\r\n\r\n    if (response.ok) {\r\n      const { article } = await response.json();\r\n      dispatch(articleEdit({ article, slug }));\r\n      resetForm();\r\n    } else {\r\n      return dispatch(articleEditErr());\r\n    }\r\n}\r\n\r\nexport const handleGetAllArticles = (pageSize, currentPage, username) => async (dispatch) => {\r\n\r\n  const pageIndex = currentPage === 1 ? 0 : currentPage - 1;\r\n  const offset = pageIndex === 0 ? 0 : (pageIndex * 10);\r\n  const url = `https://conduit.productionready.io/api/articles?limit=${pageSize}&offset=${offset}`;\r\n\r\n  const response = await fetch(url);\r\n\r\n  if (response.ok) {\r\n    const article = await response.json();\r\n    dispatch(getAllArticles({ article }));\r\n    if (username !== '') {\r\n      const response = await fetch(`https://conduit.productionready.io/api/articles?&favorited=${username}&limit=500`);\r\n      const { articles } = await response.json();\r\n      const favoritedArticlesKeys = articles.map((post) => post.slug);\r\n      console.log(favoritedArticlesKeys);\r\n      dispatch(favoriteArticlesAdd({ favoritedArticlesKeys }));\r\n    }\r\n    return;\r\n  }\r\n\r\n}\r\n\r\nexport const handleLike = (slug, token, toggleLike) => async (dispatch) => {\r\n  \r\n   if (!token) {\r\n     return;\r\n   }\r\n\r\n   const method = toggleLike === false ?  'POST' : 'DELETE';\r\n\r\n     const response = await fetch(`https://conduit.productionready.io/api/articles/${slug}/favorite`, {\r\n       method: method,\r\n       headers: {\r\n        'Authorization': `Token ${token}`,\r\n       }\r\n     });\r\n\r\n     if (response.ok) {\r\n      const { article } = await response.json();\r\n      dispatch(likeOrDisLikeArticle({ article }));\r\n      return;\r\n     }\r\n}\r\n","import React from 'react';\nimport './add-article-page.scss';\nimport { Formik, Field, Form, ErrorMessage, FieldArray } from 'formik';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport * as Yup from 'yup';\nimport ErrorCustom from '../error-custom';\nimport NotAuthorized from '../not-authorized';\nimport * as actions from '../../actions';\n\nconst validationSchema = Yup.object().shape({\n  title: Yup.string()\n    .min(3, 'Название не меньше 3 символов')\n    .max(50, 'Название не более 50 символов')\n    .required('Обязательное поле'),\n  description: Yup.string()\n    .min(10, 'Краткое описание не меньше 10 символов')\n    .max(150, 'Краткое описание не более 150 символов')\n    .required('Обязательное поле'),\n  body: Yup.string()\n    .min(10, 'Содержимое статьи не меньше 10 символов')\n    .required('Обязательное поле'),\n  tagList: Yup.array().of(Yup.string().min(3, 'Не менее 3 символов')),\n});\n\nconst mapStateToProps = ({ user, articlesUiState }) => {\n  const props = {\n    token: user.userData.token,\n    username: user.userData.username,\n    isAuthorized: user.isAuthorized,\n    isSuccessful: articlesUiState.isSuccessful,\n  };\n\n  return props;\n};\n\nconst actionCreators = {\n  addArticle: actions.handleArticleAdd,\n};\n\nclass AddArticlePage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  handleAddArticle(data, resetForm) {\n    const { addArticle, token } = this.props;\n    const newData = {\n      article: {\n        ...data,\n      },\n    };\n\n    addArticle(JSON.stringify(newData), token, resetForm);\n  }\n\n  render() {\n    const { username, isAuthorized, isSuccessful } = this.props;\n    const successfulMessage =\n      isSuccessful === true ? (\n        <div className=\"successful-message\">Cтатья создана успешно</div>\n      ) : null;\n    const faildeMessage =\n      isSuccessful === false ? (\n        <div className=\"failed-message\">Что-то пошло не так, статья не создана</div>\n      ) : null;\n    const formik = (\n      <Formik\n        initialValues={{ title: '', description: '', body: '', tagList: [] }}\n        validationSchema={validationSchema}\n        onSubmit={(values, { setSubmitting, resetForm }) => {\n          setSubmitting(false);\n          this.handleAddArticle(values, resetForm);\n        }}\n      >\n        <Form className=\"form form__add-article\">\n          <Field name=\"title\" type=\"text\" className=\"form__input\" placeholder=\"Заголовок статьи\" />\n          <ErrorMessage name=\"title\" component={ErrorCustom} />\n          <Field\n            name=\"description\"\n            type=\"text\"\n            className=\"form__input\"\n            placeholder=\"Короткое описание статьи\"\n          />\n          <ErrorMessage name=\"description\" component={ErrorCustom} />\n          <Field\n            name=\"body\"\n            type=\"text\"\n            as=\"textarea\"\n            className=\"form__textarea\"\n            placeholder=\"Содержимое статьи\"\n          />\n          <ErrorMessage name=\"body\" component={ErrorCustom} />\n          <FieldArray name=\"tagList\">\n            {({ push, form: { values } }) => {\n              const renderTagList = tagList => {\n                return tagList.map((tag, index) => {\n                  return (\n                    <React.Fragment key={`id_${index}`}>\n                      <Field\n                        className=\"form__input\"\n                        name={`tagList.${index}`}\n                        placeholder=\"Введите тэг\"\n                      />\n                      <ErrorMessage name={`tagList.${index}`} component={ErrorCustom} />\n                    </React.Fragment>\n                  );\n                });\n              };\n\n              const render = values.tagList.length > 0 ? renderTagList(values.tagList) : null;\n\n              return (\n                <>\n                  {render}\n                  <button onClick={() => push('')} type=\"button\" className=\"my-btn__add-tag\">\n                    Добавить тэг\n                  </button>\n                </>\n              );\n            }}\n          </FieldArray>\n          {successfulMessage}\n          {faildeMessage}\n          <button type=\"submit\" className=\"my-btn my-btn-add\">\n            Создать статью\n          </button>\n        </Form>\n      </Formik>\n    );\n\n    const renderPage = isAuthorized ? (\n      <>\n        <h2 className=\"heading\">\n          <span className=\"heading__greeting\">Приветствуем {username}</span>\n          Создание новой статьи\n        </h2>\n        <p className=\"page-description\">\n          Чтобы создать новую статью заполните поле заголовка, короткого описания, содержимого и\n          тегов.\n        </p>\n        {formik}\n      </>\n    ) : (\n      <NotAuthorized type=\"create\" />\n    );\n    return (\n      <div className=\"container-wrapp\">\n        <div className=\"user-auth-block\">{renderPage}</div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, actionCreators)(AddArticlePage);\n\nAddArticlePage.defaultProps = {\n  username: '',\n  addArticle: () => {},\n  token: '',\n  isAuthorized: null,\n  isSuccessful: null,\n};\n\nAddArticlePage.propTypes = {\n  username: PropTypes.string,\n  addArticle: PropTypes.func,\n  token: PropTypes.string,\n  isAuthorized: PropTypes.bool,\n  isSuccessful: PropTypes.bool,\n};\n","import AddArticlePage from './add-article-page';\r\n\r\nexport default AddArticlePage;\r\n","import React from 'react';\nimport * as Yup from 'yup';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport * as actions from '../../actions';\nimport ErrorCustom from '../error-custom';\nimport './regestration-page.scss';\n\nconst validationSchema = Yup.object().shape({\n  username: Yup.string()\n    .min(2, 'Имя пользователя не менее 2 символов')\n    .max(40, 'Имя пользователя не более 40 символов')\n    .required('Обязательное поле'),\n  password: Yup.string()\n    .min(8, 'Пароль не менее 8 символов')\n    .max(40, 'Пароль не более 40 символов')\n    .required('Обязательное поле'),\n  email: Yup.string()\n    .email('Введите корректный email адресс')\n    .required('Обязательное поле'),\n});\n\nconst Successful = ({ isSuccessful }) => {\n  return isSuccessful ? <div className=\"successes-message\">Регестрация прошла успешно</div> : null;\n};\n\nconst mapStateToProps = ({ user }) => {\n  const props = {\n    isSuccessful: user.isSuccessful,\n    error: user.error,\n  };\n\n  return props;\n};\n\nconst actionCreators = {\n  registration: actions.registration,\n};\n\nclass RegestrationPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  handleRegestrationSbm = ({ username, password, email }, resetForm) => {\n    const { registration } = this.props;\n    const data = JSON.stringify({\n      user: {\n        username,\n        email,\n        password,\n      },\n    });\n    registration(data, resetForm);\n  };\n\n  render() {\n    const { isSuccessful, error } = this.props;\n    const formik = (\n      <Formik\n        initialValues={{ username: '', email: '', password: '' }}\n        validationSchema={validationSchema}\n        onSubmit={(values, { setSubmitting, resetForm }) => {\n          setSubmitting(isSuccessful);\n          this.handleRegestrationSbm(values, resetForm);\n        }}\n      >\n        <Form className=\"form\">\n          <Field\n            name=\"username\"\n            type=\"text\"\n            className=\"form__input\"\n            placeholder=\"Имя пользователя\"\n          />\n          <ErrorMessage name=\"username\" component={ErrorCustom} />\n          {error ? <div className=\"error-message\">{error.username}</div> : null}\n          <Field name=\"email\" type=\"email\" className=\"form__input\" placeholder=\"Email\" />\n          <ErrorMessage name=\"email\" component={ErrorCustom} />\n          {error ? <div className=\"error-message\">{error.email}</div> : null}\n          <Field name=\"password\" type=\"password\" className=\"form__input\" placeholder=\"Пароль\" />\n          <ErrorMessage name=\"password\" component={ErrorCustom} />\n          {error ? <div className=\"error-message\">{error.password}</div> : null}\n          <Successful isSuccessful={isSuccessful} />\n          <button type=\"submit\" className=\"my-btn\">\n            Зарегестрироваться\n          </button>\n          <Link to=\"/login\" className=\"my-btn__standart\">\n            Уже зарегестрированы?\n          </Link>\n        </Form>\n      </Formik>\n    );\n\n    return (\n      <div className=\"container-wrapp\">\n        <div className=\"user-auth-block\">\n          <h2 className=\"heading\">Регестрация</h2>\n          <p className=\"page-description\">\n            Введите имя пользователя, email адресс и пароль для регестрации в личном кабинете\n          </p>\n          {formik}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, actionCreators)(RegestrationPage);\n\nSuccessful.defaultProps = {\n  isSuccessful: null,\n};\n\nSuccessful.propTypes = {\n  isSuccessful: PropTypes.bool,\n};\n\nRegestrationPage.defaultProps = {\n  registration: null,\n  isSuccessful: null,\n  error: null,\n};\n\nRegestrationPage.propTypes = {\n  registration: PropTypes.func,\n  isSuccessful: PropTypes.bool,\n  error: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string])),\n};\n","import RegestrationPage from './regestration-page';\r\n\r\nexport default RegestrationPage;\r\n","import React from 'react';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { connect } from 'react-redux';\nimport { Link, Redirect, Route } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport ErrorCustom from '../error-custom';\nimport * as actions from '../../actions';\nimport './authorization-page.scss';\n\nconst validationSchema = Yup.object().shape({\n  password: Yup.string()\n    .min(8, 'Не менее 8 символов')\n    .max(40, 'Не более 40 символов')\n    .required('Обязательное поле'),\n  email: Yup.string()\n    .email('Введите корректный email адресс')\n    .required('Обязательное поле'),\n});\n\nconst mapStateToProps = ({ user }) => {\n  const props = {\n    isAuthorized: user.isAuthorized,\n    error: user.error,\n  };\n\n  return props;\n};\n\nconst actionCreators = {\n  login: actions.login,\n};\n\nconst MyError = ({ error }) => {\n  if (!error) {\n    return null;\n  }\n\n  return <ErrorCustom>Неправильный email или пароль</ErrorCustom>;\n};\n\nclass AuthorizationPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  handleLoginSbm = ({ password, email }, resetForm) => {\n    const { login } = this.props;\n    const data = JSON.stringify({\n      user: {\n        email,\n        password,\n      },\n    });\n    login(data, resetForm);\n  };\n\n  render() {\n    const { isAuthorized, error } = this.props;\n    const formik = (\n      <Formik\n        initialValues={{ email: '', password: '' }}\n        validationSchema={validationSchema}\n        onSubmit={(values, { setSubmitting, resetForm }) => {\n          setSubmitting(false);\n          this.handleLoginSbm(values, resetForm);\n        }}\n      >\n        <Form className=\"form\">\n          <Field name=\"email\" type=\"email\" placeholder=\"Email\" className=\"form__input\" />\n          <ErrorMessage name=\"email\" component={ErrorCustom} />\n          <Field name=\"password\" type=\"password\" placeholder=\"Пароль\" className=\"form__input\" />\n          <ErrorMessage name=\"password\" component={ErrorCustom} />\n          <MyError error={error} />\n          <button className=\"my-btn\" type=\"submit\">\n            Войти в личный кабинет\n          </button>\n          <Link to=\"/signup\" className=\"my-btn__standart\">\n            Зарегестрироваться\n          </Link>\n        </Form>\n      </Formik>\n    );\n\n    const render = () => (isAuthorized ? <Redirect to=\"/\" /> : null);\n\n    return (\n      <>\n        <Route exact path=\"/login\" render={render} />\n        <div className=\"container-wrapp\">\n          <div className=\"user-auth-block\">\n            <h2 className=\"heading\">Авторизоваться</h2>\n            <p className=\"page-description\">\n              Чтобы войти на сайт используйте ваш email и пароль, которые были указаны при\n              регистрации на сайт\n            </p>\n            {formik}\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, actionCreators)(AuthorizationPage);\n\nMyError.defaultProps = {\n  error: null,\n};\n\nMyError.propTypes = {\n  error: PropTypes.bool,\n};\n\nAuthorizationPage.defaultProps = {\n  isAuthorized: null,\n  login: () => {},\n  error: null,\n};\n\nAuthorizationPage.propTypes = {\n  isAuthorized: PropTypes.bool,\n  login: PropTypes.func,\n  error: PropTypes.bool,\n};\n","import AuthorizationPage from './authorization-page';\r\n\r\nexport default AuthorizationPage;\r\n","import Spinner from './spinner';\r\n\r\nexport default Spinner;\r\n","import React from 'react';\nimport './spinner.scss';\n\nconst Spinner = () => {\n  return (\n    <div className=\"loadingio-spinner-double-ring-b083mjns3x\">\n      <div className=\"ldio-ojqsvg2c8e\">\n        <div />\n        <div />\n        <div>\n          <div />\n        </div>\n        <div>\n          <div />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Spinner;\n","import React from 'react';\nimport formatDistance from 'date-fns/formatDistance';\nimport Pagination from 'react-js-pagination';\nimport { ru } from 'date-fns/locale';\nimport { PropTypes } from 'prop-types';\nimport Spinner from '../spinner';\nimport './post-list.scss';\n\nconst getDate = createdDate => {\n  const res = formatDistance(new Date(createdDate), new Date(), {\n    locale: ru,\n    includeSeconds: true,\n  });\n\n  return res;\n};\n\nconst renderTagList = tagList => {\n  return tagList.map(tag => {\n    return (\n      <span key={tag} className=\"tag\">\n        #{tag}\n      </span>\n    );\n  });\n};\n\nclass PostList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  handleFavoriteArticle = (event, slug) => {\n    const { token, handleLike } = this.props;\n\n    if (!token) {\n      // eslint-disable-next-line no-alert\n      alert('Не авторизованные пользователи не могут ставить лайки, пожалуйста авторизируйтесь');\n      return;\n    }\n\n    const { target } = event;\n    const toggle = target.classList.contains('my-btn__heart--active');\n\n    handleLike(slug, token, toggle);\n  };\n\n  handlePageChange = pageNumber => {\n    const { pageSize, pageChange, handleGetAllArticles, username } = this.props;\n    pageChange({ pageNumber });\n    handleGetAllArticles(pageSize, pageNumber, username);\n  };\n\n  render() {\n    const { articles, handlePostSelected, totalPostCount, pageSize, currentPage } = this.props;\n\n    if (articles.allSlugs.length === 0) {\n      return (\n        <div className=\"posts-block\">\n          <div className=\"row text-center\">\n            <div className=\"col\">\n              <Spinner />\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    const data = Object.values(articles.bySlug).map(\n      ({ title, slug, author, description, createdAt, tagList, favoritesCount, favorited }) => {\n        const { username, image } = author;\n        return (\n          <div key={slug} className=\"col-md-6 col-lg-6 col-sm-6 col-xs-12 mb-4\">\n            <div className=\"card h-100 shadow p-3 mb-5 bg-white rounded\">\n              <img src={image} className=\"card-img-top\" alt=\"Карточка\" />\n              <h6 className=\"card-header\">Создана: {getDate(createdAt)} назад</h6>\n              <div className=\"card-body\">\n                <h5 className=\"card-title font-weight-bold\">{title}</h5>\n                <p className=\"card-text\">{description}</p>\n                <p className=\"card-text\">\n                  <span className=\"font-weight-normal\">Автор: </span>\n                  {username}\n                </p>\n                <p className=\"card-text\">{renderTagList(tagList)}</p>\n                <div className=\"card-footer card-footer-flex\">\n                  <div className=\"favorites-block\">\n                    <button\n                      type=\"button\"\n                      className={`btn-sm my-btn__heart ${favorited ? 'my-btn__heart--active' : ''}`}\n                      onClick={event => this.handleFavoriteArticle(event, slug)}\n                    >\n                      /\n                    </button>\n                    <span className=\"favorites-block__count\">{favoritesCount}</span>\n                  </div>\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-outline-success  btn-sm\"\n                    onClick={() => handlePostSelected(slug)}\n                  >\n                    Подробнее\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n      }\n    );\n\n    const pagination = (\n      <div className=\"row justify-content-lg-center\">\n        <div className=\"col-lg-8 text-center\">\n          <div className=\"pagination-box border-top pt-3\">\n            <Pagination\n              pageRangeDisplayed={5}\n              activePage={currentPage}\n              itemsCountPerPage={pageSize}\n              totalItemsCount={totalPostCount}\n              onChange={this.handlePageChange}\n              itemClass=\"page-item\"\n              linkClass=\"page-link\"\n            />\n          </div>\n        </div>\n      </div>\n    );\n\n    return (\n      <div className=\"posts-block\">\n        <div className=\"row row-cols-1 row-cols-md-3 mb-5\">{data}</div>\n        {pagination}\n      </div>\n    );\n  }\n}\n\nexport default PostList;\n\nPostList.defaultProps = {\n  token: null,\n  handleLike: () => {},\n  pageSize: 10,\n  pageChange: () => {},\n  handleGetAllArticles: () => {},\n  username: null,\n  currentPage: 1,\n  articles: {},\n  handlePostSelected: () => {},\n  totalPostCount: 1,\n};\n\nPostList.propTypes = {\n  token: PropTypes.string,\n  handleLike: PropTypes.func,\n  pageSize: PropTypes.number,\n  pageChange: PropTypes.func,\n  handleGetAllArticles: PropTypes.func,\n  username: PropTypes.string,\n  currentPage: PropTypes.number,\n  articles: PropTypes.PropTypes.exact({\n    bySlug: PropTypes.object,\n    allSlugs: PropTypes.array,\n  }),\n  handlePostSelected: PropTypes.func,\n  totalPostCount: PropTypes.number,\n};\n","import PostList from './post-list';\r\n\r\nexport default PostList;\r\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\nimport PostList from '../post-list';\nimport * as actions from '../../actions';\nimport './home-page.scss';\n\nconst mapStateToProps = ({ user, articlesUiState }) => {\n  const props = {\n    isAuthorized: user.isAuthorized,\n    username: user.userData.username,\n    token: user.userData.token,\n    totalPostCount: articlesUiState.totalPostCount,\n    pageSize: articlesUiState.pageSize,\n    currentPage: articlesUiState.currentPage,\n  };\n\n  return props;\n};\n\nconst actionCreators = {\n  exit: actions.exit,\n  handleLike: actions.handleLike,\n  pageChange: actions.pageChange,\n  handleGetAllArticles: actions.handleGetAllArticles,\n};\n\nclass HomePage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  handlePostSelected = postId => {\n    const { history } = this.props;\n    history.push(`/articles/${postId}/`);\n  };\n\n  renderTopBar() {\n    const { username, isAuthorized } = this.props;\n\n    if (isAuthorized) {\n      const { exit } = this.props;\n      return (\n        <div className=\"row align-items-center justify-content-between\">\n          <div className=\"col\">\n            <h2 className=\"heading__greeting\">Приветствуем {username}</h2>\n          </div>\n          <div className=\"col\">\n            <button type=\"button\" className=\"my-btn\" onClick={exit}>\n              Выйти из личного кабинета\n            </button>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className=\"row align-items-center justify-content-between\">\n        <div className=\"col\">\n          <h2 className=\"heading__greeting\">Вы не авторизованы</h2>\n        </div>\n        <div className=\"col\">\n          <Link to=\"/login\">\n            <button type=\"button\" className=\"my-btn  text-center\">\n              Войти в личный кабинет\n            </button>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      articles,\n      token,\n      handleLike,\n      totalPostCount,\n      pageSize,\n      currentPage,\n      pageChange,\n      handleGetAllArticles,\n      username,\n    } = this.props;\n    const topbar = this.renderTopBar();\n\n    return (\n      <div className=\"container-wrapp\">\n        {topbar}\n        <PostList\n          handlePostSelected={this.handlePostSelected}\n          articles={articles}\n          token={token}\n          handleLike={handleLike}\n          totalPostCount={totalPostCount}\n          pageSize={pageSize}\n          currentPage={currentPage}\n          pageChange={pageChange}\n          handleGetAllArticles={handleGetAllArticles}\n          username={username}\n        />\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, actionCreators)(withRouter(HomePage));\n\nHomePage.defaultProps = {\n  history: {},\n  articles: {},\n  token: null,\n  handleLike: () => {},\n  totalPostCount: 1,\n  pageSize: 10,\n  currentPage: 1,\n  pageChange: () => {},\n  handleGetAllArticles: () => {},\n  username: null,\n  isAuthorized: null,\n  exit: () => {},\n};\n\nHomePage.propTypes = {\n  history: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.func,\n    PropTypes.object,\n  ]),\n  articles: PropTypes.PropTypes.exact({\n    bySlug: PropTypes.object,\n    allSlugs: PropTypes.array,\n  }),\n  token: PropTypes.string,\n  handleLike: PropTypes.func,\n  totalPostCount: PropTypes.number,\n  pageSize: PropTypes.number,\n  currentPage: PropTypes.number,\n  pageChange: PropTypes.func,\n  handleGetAllArticles: PropTypes.func,\n  username: PropTypes.string,\n  isAuthorized: PropTypes.bool,\n  exit: PropTypes.func,\n};\n","import HomePage from './home-page';\r\n\r\nexport default HomePage;\r\n","import React from 'react';\nimport formatDistance from 'date-fns/formatDistance';\nimport { connect } from 'react-redux';\nimport { ru } from 'date-fns/locale';\nimport { Link, withRouter } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\nimport * as actions from '../../actions';\nimport Spinner from '../spinner';\nimport operetion from './operation.png';\nimport './post-details.scss';\n\nconst getDate = createdDate => {\n  const res = formatDistance(new Date(createdDate), new Date(), {\n    locale: ru,\n    includeSeconds: true,\n  });\n\n  return res;\n};\n\nconst renderTagList = tagList => {\n  return tagList.map(tag => {\n    return (\n      <span key={tag} className=\"tag\">\n        #{tag}\n      </span>\n    );\n  });\n};\n\nconst mapStateToProps = ({ user, articles }) => {\n  return {\n    token: user.userData.token,\n    articles: articles.bySlug,\n    username: user.userData.username,\n  };\n};\n\nconst actionCreators = {\n  handleLike: actions.handleLike,\n};\n\nclass PostDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      article: null,\n      loading: true,\n    };\n  }\n\n  componentDidMount() {\n    this.updatePost();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { postId, articles } = this.props;\n    if (prevProps.postId !== postId || prevProps.articles !== articles) {\n      this.updatePost();\n    }\n  }\n\n  handleFavoriteArticle = (event, slug) => {\n    const { token, handleLike } = this.props;\n\n    if (!token) {\n      // eslint-disable-next-line no-alert\n      alert('Не авторизованные пользователи не могут ставить лайки, пожалуйста авторизируйтесь');\n      return;\n    }\n\n    const { target } = event;\n    const toggle = target.classList.contains('my-btn__heart--active');\n\n    handleLike(slug, token, toggle);\n  };\n\n  handleSettingCLick = event => {\n    event.preventDefault();\n    const { history } = this.props;\n    history.push(`edit`);\n  };\n\n  updatePost() {\n    const { postId } = this.props;\n    if (!postId) {\n      return;\n    }\n\n    const { articles } = this.props;\n    const article = articles[`${postId}`];\n\n    this.setState({\n      article,\n      loading: false,\n    });\n  }\n\n  render() {\n    const { article, loading } = this.state;\n\n    if (loading) {\n      return (\n        <div className=\"container-wrapp\">\n          <div className=\"posts-block\">\n            <div className=\"row text-center\">\n              <div className=\"col\">\n                <Spinner />\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    if (!article) {\n      return (\n        <div className=\"container-wrapp\">\n          <div className=\"posts-block\">\n            <div className=\"row text-center\">\n              <div className=\"col\">Выберите какую статью отобразить</div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    const { title, slug, author, body, createdAt, tagList, favoritesCount, favorited } = article;\n    const { username, token } = this.props;\n\n    const setting =\n      token && username === author.username ? (\n        <a\n          className=\"favorites-block__setting-link btn-sm\"\n          href=\"/\"\n          title=\"Редактировать данную статью\"\n          onClick={event => this.handleSettingCLick(event, slug)}\n        >\n          <img className=\"favorites-block__setting-image\" src={operetion} alt=\"Настройки\" />\n        </a>\n      ) : null;\n\n    const likeClass = `btn-sm my-btn__heart ${favorited ? 'my-btn__heart--active' : ''}`;\n\n    return (\n      <div className=\"container-wrapp\">\n        <div className=\"posts-block\">\n          <div className=\"row justify-content-lg-center\">\n            <div className=\"col-lg-8 col-md-auto\">\n              <div className=\"card border-secondary shadow-lg rounded\">\n                <img src={author.image} className=\"card-img-top\" alt=\"Post\" />\n                <h6 className=\"card-header\">Создана: {getDate(createdAt)} назад</h6>\n                <div className=\"card-body\">\n                  <h5 className=\"card-title text-center font-weight-bold\">{title}</h5>\n                  <p className=\"card-text text-center\">{body}</p>\n                  <p className=\"card-text\">\n                    <span className=\"font-weight-normal\">Автор: </span>\n                    {author.username}\n                  </p>\n                  <p className=\"card-text\">{renderTagList(tagList)}</p>\n                  <div className=\"card-footer card-footer-flex\">\n                    <div className=\"favorites-block\">\n                      <button\n                        type=\"button\"\n                        className={likeClass}\n                        onClick={event => this.handleFavoriteArticle(event, slug)}\n                      >\n                        /\n                      </button>\n                      <span className=\"favorites-block__count\">{favoritesCount}</span>\n                      {setting}\n                    </div>\n                    <Link to=\"/\">\n                      <button\n                        type=\"button\"\n                        className=\"my-btn btn btn-outline-success btn-sm text-center\"\n                      >\n                        Все статьи\n                      </button>\n                    </Link>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, actionCreators)(withRouter(PostDetails));\n\nPostDetails.defaultProps = {\n  history: {},\n  postId: '',\n  articles: {},\n  token: null,\n  handleLike: () => {},\n  username: null,\n};\n\nPostDetails.propTypes = {\n  history: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.func,\n    PropTypes.object,\n  ]),\n  postId: PropTypes.string,\n  articles: PropTypes.objectOf(PropTypes.object),\n  token: PropTypes.string,\n  handleLike: PropTypes.func,\n  username: PropTypes.string,\n};\n","import PostDetails from './post-details';\r\n\r\nexport default PostDetails;\r\n","import React from 'react';\nimport { Formik, Field, Form, ErrorMessage, FieldArray } from 'formik';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport * as Yup from 'yup';\nimport ErrorCustom from '../error-custom';\nimport NotAuthorized from '../not-authorized';\nimport * as actions from '../../actions';\nimport './editing-page.scss';\n\nconst validationSchema = Yup.object().shape({\n  title: Yup.string()\n    .min(3, 'Название не меньше 3 символов')\n    .max(50, 'Название не более 50 символов')\n    .required('Обязательное поле'),\n  description: Yup.string()\n    .min(10, 'Краткое описание не меньше 10 символов')\n    .max(150, 'Краткое описание не более 150 символов')\n    .required('Обязательное поле'),\n  body: Yup.string()\n    .min(10, 'Содержимое статьи не меньше 10 символов')\n    .required('Обязательное поле'),\n  tagList: Yup.array().of(Yup.string().min(3, 'Не менее 3 символов')),\n});\n\nconst mapStateToProps = ({ user, articlesUiState }) => {\n  return {\n    token: user.userData.token,\n    username: user.userData.username,\n    isAuthorized: user.isAuthorized,\n    isEditSuccessful: articlesUiState.isEditSuccessful,\n  };\n};\n\nconst actionCreators = {\n  handleArticleEdit: actions.handleArticleEdit,\n};\n\nclass EditingPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  handleEditArticle = (data, resetForm) => {\n    const { postId, token, handleArticleEdit } = this.props;\n    const newData = {\n      article: {\n        ...data,\n      },\n    };\n    handleArticleEdit(JSON.stringify(newData), token, resetForm, postId);\n  };\n\n  render() {\n    const { postId } = this.props;\n    if (!postId) {\n      return (\n        <div className=\"container-wrapp\">\n          <div className=\"user-auth-block\">Вы не выбрали какую с статью редактировать</div>\n        </div>\n      );\n    }\n\n    const { username, isAuthorized, isEditSuccessful } = this.props;\n    const successfulMessage =\n      isEditSuccessful === true ? (\n        <div className=\"successful-message\">Cтатья успешно отредактирована</div>\n      ) : null;\n    const faildeMessage =\n      isEditSuccessful === false ? (\n        <div className=\"failed-message\">\n          Вы не являетесь владельцом данной статьи, статья не может быть отредактирована\n        </div>\n      ) : null;\n    const formik = (\n      <Formik\n        initialValues={{ title: '', description: '', body: '', tagList: [] }}\n        validationSchema={validationSchema}\n        onSubmit={(values, { setSubmitting, resetForm }) => {\n          setSubmitting(false);\n          this.handleEditArticle(values, resetForm);\n        }}\n      >\n        <Form className=\"form form__add-article\">\n          <Field name=\"title\" type=\"text\" className=\"form__input\" placeholder=\"Заголовок статьи\" />\n          <ErrorMessage name=\"title\" component={ErrorCustom} />\n          <Field\n            name=\"description\"\n            type=\"text\"\n            className=\"form__input\"\n            placeholder=\"Короткое описание статьи\"\n          />\n          <ErrorMessage name=\"description\" component={ErrorCustom} />\n          <Field\n            name=\"body\"\n            type=\"text\"\n            as=\"textarea\"\n            className=\"form__textarea\"\n            placeholder=\"Содержимое статьи\"\n          />\n          <ErrorMessage name=\"body\" component={ErrorCustom} />\n          <FieldArray name=\"tagList\">\n            {({ push, form: { values } }) => {\n              const renderTagList = tagList => {\n                return tagList.map((tag, index) => {\n                  return (\n                    <React.Fragment key={`id_${index}`}>\n                      <Field\n                        className=\"form__input\"\n                        name={`tagList.${index}`}\n                        placeholder=\"Введите тэг\"\n                      />\n                      <ErrorMessage name={`tagList.${index}`} component={ErrorCustom} />\n                    </React.Fragment>\n                  );\n                });\n              };\n\n              const render = values.tagList.length > 0 ? renderTagList(values.tagList) : null;\n\n              return (\n                <>\n                  {render}\n                  <button onClick={() => push('')} type=\"button\" className=\"my-btn__add-tag\">\n                    Добавить тэг\n                  </button>\n                </>\n              );\n            }}\n          </FieldArray>\n          {successfulMessage}\n          {faildeMessage}\n          <button type=\"submit\" className=\"my-btn my-btn-add\">\n            Редактировать статью\n          </button>\n        </Form>\n      </Formik>\n    );\n\n    const renderPage = isAuthorized ? (\n      <>\n        <h2 className=\"heading\">\n          <span className=\"heading__greeting\">Приветствуем {username}</span>\n          Редактирование статьи\n        </h2>\n        <p className=\"page-description\">\n          Чтобы редактировать статью заполните поле заголовка, короткого описания, содержимого и\n          тегов.\n        </p>\n        {formik}\n      </>\n    ) : (\n      <NotAuthorized type=\"edit\" />\n    );\n\n    return (\n      <div className=\"container-wrapp\">\n        <div className=\"user-auth-block\">{renderPage}</div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, actionCreators)(EditingPage);\n\nEditingPage.defaultProps = {\n  postId: null,\n  token: null,\n  handleArticleEdit: null,\n  username: null,\n  isAuthorized: null,\n  isEditSuccessful: null,\n};\n\nEditingPage.propTypes = {\n  postId: PropTypes.string,\n  token: PropTypes.string,\n  handleArticleEdit: PropTypes.func,\n  username: PropTypes.string,\n  isAuthorized: PropTypes.bool,\n  isEditSuccessful: PropTypes.bool,\n};\n","import EditingPage from './editing-page';\r\n\r\nexport default EditingPage;\r\n","import React from 'react';\nimport './app.scss';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { PropTypes } from 'prop-types';\nimport Header from '../header';\nimport AddArticlePage from '../add-article-page';\nimport RegestrationPage from '../regestration-page';\nimport AuthorizationPae from '../authorization-page';\nimport HomePage from '../home-page';\nimport PostDetails from '../post-details';\nimport EditingPage from '../editing-page';\nimport * as actions from '../../actions';\n\nconst mapStateToProps = ({ user, articles, articlesUiState }) => {\n  return {\n    articles,\n    pageSize: articlesUiState.pageSize,\n    currentPage: articlesUiState.currentPage,\n    username: user.userData.username,\n    isAuthorized: user.isAuthorized,\n  };\n};\n\nconst actionCreators = {\n  handleGetAllArticles: actions.handleGetAllArticles,\n};\n\nclass App extends React.Component {\n  componentDidMount() {\n    const { pageSize, currentPage, username, handleGetAllArticles } = this.props;\n    handleGetAllArticles(pageSize, currentPage, username);\n  }\n\n  render() {\n    const { articles, isAuthorized } = this.props;\n    const render = () =>\n      !isAuthorized ? <Redirect to=\"/login\" /> : <HomePage articles={articles} />;\n    return (\n      <div className=\"container\">\n        <Router>\n          <Header />\n          <Switch>\n            <Route exact path=\"/\">\n              {render()}\n            </Route>\n            <Route path=\"/signup\">\n              <RegestrationPage />\n            </Route>\n            <Route path=\"/login\">\n              <AuthorizationPae />\n            </Route>\n            <Route path=\"/add\">\n              <AddArticlePage />\n            </Route>\n            <Route\n              path=\"/articles/:slug\"\n              exact\n              render={({ match }) => {\n                const { slug } = match.params;\n                return <PostDetails postId={slug} />;\n              }}\n            />\n            <Route\n              path=\"/articles/:slug/edit\"\n              exact\n              render={({ match }) => {\n                const { slug } = match.params;\n                return <EditingPage postId={slug} />;\n              }}\n            />\n            <Redirect to=\"/\" />\n          </Switch>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, actionCreators)(App);\n\nApp.defaultProps = {\n  pageSize: 10,\n  currentPage: 1,\n  username: '',\n  articles: {},\n  handleGetAllArticles: () => {},\n  isAuthorized: null,\n};\n\nApp.propTypes = {\n  isAuthorized: PropTypes.bool,\n  pageSize: PropTypes.number,\n  currentPage: PropTypes.number,\n  username: PropTypes.string,\n  articles: PropTypes.PropTypes.exact({\n    bySlug: PropTypes.object,\n    allSlugs: PropTypes.array,\n  }),\n  handleGetAllArticles: PropTypes.func,\n};\n","import App from './app';\r\n\r\nexport default App;\r\n","import { combineReducers } from 'redux';\r\nimport { handleActions } from 'redux-actions';\r\nimport * as actions from '../actions';\r\n\r\nconst initialState =  { bySlug: {}, allSlugs:[] };\r\n\r\nconst user = handleActions(\r\n  {\r\n    [actions.userReg](state, { payload: { reg } }) {\r\n      return { ...state, isSuccessful: reg, error: null };\r\n    },\r\n    [actions.userRegErr](state, { payload: { error } }) {\r\n      return { ...state, isSuccessful: null, error };\r\n    },\r\n    [actions.userLogin](state, { payload: { userData } }) {\r\n      return { ...state, userData: { ...userData }, isAuthorized: true };\r\n    },\r\n    [actions.userLoginErr](state) {\r\n      return { ...state, error: true };\r\n    },\r\n    [actions.userExit](state) {\r\n      return {\r\n        ...state,\r\n        isSuccessful: null,\r\n        isAuthorized: null,\r\n        error: null,\r\n        userData: {\r\n          id: '',\r\n          email: '',\r\n          username: '',\r\n          token: '',\r\n        },\r\n      };\r\n    },\r\n  },\r\n  {\r\n    isSuccessful: null,\r\n    isAuthorized: null,\r\n    error: null,\r\n    userData: {\r\n      id: '',\r\n      email: '',\r\n      username: '',\r\n      token: '',\r\n    },\r\n  }\r\n);\r\n\r\nconst articles = handleActions({\r\n  [actions.getAllArticles](state, { payload: { article } }) {\r\n    state = initialState;\r\n    const { articles } = article;\r\n    return articles.reduce((acc, post) => {\r\n       return { \r\n               bySlug: {\r\n                  ...acc.bySlug,\r\n                  [post.slug]: post,\r\n               },\r\n               allSlugs: [ ...acc.allSlugs, post.slug],\r\n              };\r\n    }, state);\r\n  },\r\n  [actions.favoriteArticlesAdd](state, { payload: { favoritedArticlesKeys } }) {\r\n    return {\r\n      ...state,\r\n    };\r\n    \r\n  },\r\n  [actions.articleAdd](state) {\r\n        return {\r\n          ...state\r\n        };\r\n  },\r\n  [actions.articleEdit](state, { payload: { article, slug } }) {\r\n    const newBySlug =  Object.keys(state.bySlug)\r\n                             .filter((id) => id !== slug)\r\n                             .reduce((acc, currentKey) => {\r\n                                  return {\r\n                                    ...acc,\r\n                                    [currentKey]: state.bySlug[currentKey],\r\n                                  }\r\n                             }, {});\r\n\r\n    const newAllSlugs = [ ...state.allSlugs.filter((id) => id !== slug), article.slug ];\r\n    return {\r\n      ...state,\r\n      bySlug: {\r\n        [article.slug]: article,\r\n        ...newBySlug,\r\n      },\r\n      allSlugs: newAllSlugs,\r\n    };\r\n  },\r\n  [actions.likeOrDisLikeArticle](state, { payload: { article } }) {\r\n    return {\r\n      ...state,\r\n      bySlug:{\r\n        ...state.bySlug,\r\n        [article.slug]: {\r\n          ...article,\r\n        },\r\n      },\r\n    };\r\n  },\r\n  [actions.userExit](state) {\r\n    const newSlag = Object.fromEntries(\r\n      Object.entries(state.bySlug).map(([key, value]) => {\r\n                const newValue = { ...value, favorited: false };\r\n                return [key, newValue];\r\n      })\r\n    );\r\n\r\n    return {\r\n      ...state,\r\n      bySlug: newSlag,\r\n    };\r\n  }\r\n}, initialState);\r\n\r\nconst articlesUiState = handleActions({\r\n  [actions.articleAdd](state) {\r\n    return {\r\n      ...state,\r\n      isSuccessful: true,\r\n    }\r\n  },\r\n  [actions.articleAddErr](state) {\r\n    return {\r\n      ...state,\r\n      isSuccessful: false,\r\n    }\r\n  },\r\n  [actions.articleEdit](state) {\r\n    return {\r\n      ...state,\r\n      isEditSuccessful: true,\r\n    }\r\n  },\r\n  [actions.articleEditErr](state) {\r\n      return {\r\n        ...state,\r\n        isEditSuccessful: false,\r\n      }\r\n  },\r\n  [actions.userExit](state) {\r\n    return {\r\n      ...state,\r\n      isSuccessful: null,\r\n      isEditSuccessful: null,\r\n    };\r\n  },\r\n  [actions.getAllArticles](state, { payload: { article } }) {\r\n    const { articlesCount } = article;\r\n    return {\r\n      ...state,\r\n      isSuccessful: null,\r\n      isEditSuccessful: null,\r\n      totalPostCount: articlesCount,\r\n    };\r\n  },\r\n  [actions.pageChange](state, { payload: { pageNumber } }) {\r\n    return {\r\n      ...state,\r\n      currentPage: pageNumber,\r\n    };\r\n  },\r\n}, { isSuccessful: null, totalPostCount: null, pageSize: 10, currentPage: 1, isEditSuccessful: null });\r\n\r\nconst rootReducer = combineReducers({ user, articles, articlesUiState });\r\n\r\nexport default rootReducer;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'normalize.css';\r\nimport './styles/styles.scss';\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}